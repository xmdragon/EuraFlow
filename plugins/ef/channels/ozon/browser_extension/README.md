# EuraFlow OZON选品助手浏览器扩展

智能采集OZON商品数据，集成上品帮数据源。

## 功能特性

- ✅ **上品帮集成**：自动从上品帮提取商品数据
- ✅ **丰富数据**：价格、销量、佣金、物流等42个字段
- ✅ **自动上传**：采集完成后自动上传到EuraFlow系统
- ✅ **虚拟滚动支持**：完全适配OZON的虚拟滚动机制
- ✅ **商品详情页真实售价计算**：自动显示各项费用和利润分析

## 安装要求

### 前置条件
- 必须安装 **上品帮** Chrome 扩展
- Chrome 或 Edge 浏览器（版本 ≥ 88）

### 安装步骤

1. **下载扩展包**
   - 从发布页面下载最新的 `.zip` 文件
   - 解压到任意目录

2. **加载扩展**
   - 打开 Chrome/Edge 浏览器
   - 访问 `chrome://extensions/`（Edge: `edge://extensions/`）
   - 开启右上角的"开发者模式"
   - 点击"加载已解压的扩展程序"
   - 选择解压后的 `dist/` 目录

3. **配置API**
   - 点击浏览器工具栏的扩展图标
   - 填写 API 地址（例如：`https://ozon.gxfc.life`）
   - 填写 API Key（从 EuraFlow 系统获取）
   - 点击"测试连接"验证配置

## 使用方法

1. 访问 OZON 商品列表页面
2. 等待页面加载完成，右下角会出现控制面板
3. 查看数据源状态（✅ 表示已检测到）
4. 设置目标商品数量（默认100）
5. 点击"开始采集"
6. 等待采集完成，数据会自动上传到 EuraFlow

## 数据字段

扩展从上品帮提取以下42个字段：

- **基础信息**：商品ID、商品名称、链接、图片、类目、品牌
- **价格**：当前价格、原价、平均价格
- **佣金**：rFBS/FBP三档佣金（≤1500₽、1501-5000₽、>5000₽）
- **销售数据**：月销量、月销售额、日销量、日销售额、销售动态、转化率
- **物流信息**：重量、体积、长宽高、配送天数
- **评价数据**：评分、评价数量
- **营销分析**：浏览量、加购率、点击率、促销天数、广告费占比、退货率
- **竞争对手**：跟卖数量、跟卖最低价
- **其他**：发货模式、上架时间、库存可用率

## 开发

### 环境要求
- Node.js ≥ 18
- npm ≥ 9

### 开发命令
```bash
# 安装依赖
npm install

# 开发模式（热更新）
npm run dev

# 类型检查
npm run type-check

# 构建生产版本
npm run build
```

### 项目结构
```
src/
├── content/           # 内容脚本（注入到OZON页面）
│   ├── parsers/       # 数据解析器（上品帮）
│   ├── fusion/        # 数据融合引擎
│   ├── price-calculator/  # 真实售价计算器（商品详情页）
│   ├── components/    # UI组件（控制面板、跟卖弹窗）
│   └── main.ts        # 入口文件
├── background/        # 后台服务（API通信、上品帮登录）
├── popup/             # 扩展弹窗（配置界面）
└── shared/            # 共享类型和工具
```

## 常见问题

**Q: 为什么提示"未检测到上品帮插件"？**
A: 请确保已安装上品帮 Chrome 扩展，并在OZON商品列表页面刷新。

**Q: 数据中某些字段为空怎么办？**
A: 正常现象。某些商品可能没有特定数据（如跟卖信息），扩展会提取所有可用数据。

**Q: 上传失败怎么办？**
A: 检查API配置是否正确，点击"测试连接"验证。

## 技术支持

如有问题，请联系 EuraFlow 技术团队。

## 许可证

MIT License
